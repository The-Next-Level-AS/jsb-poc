<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
    <script type="module">
      import { createClient } from "https://esm.sh/@sanity/client";

      const api = createClient({
          projectId: "zq5it0ga",
          dataset: "production",
          useCdn: false, // true
          apiVersion: "2024-04-04",
        }),
        global = (
          await api.fetch(
            '*[_type == "component" && _id == "7e7eaecf-e981-4d68-8a41-52eb2e9b938f"]'
          )
        )[0],
        data = (
          await api.fetch(
            `*[_type == "component" && _id == "${new URLSearchParams(
              window.location.search
            ).get("id")}"]`
          )
        )[0],
        globalStyle = document.createElement("style"),
        style = document.createElement("style"),
        globalScript = document.createElement("script"),
        script = document.createElement("script");

      document.body.innerHTML = global.html || "";
      document.body.innerHTML += data.html || "";
      globalStyle.textContent = global.css || "";
      document.head.appendChild(globalStyle);
      style.textContent = data.css || "";
      document.head.appendChild(style);
      globalScript.textContent = global.javascript || "";
      document.body.appendChild(globalScript);
      script.textContent = data.javascript || "";
      document.body.appendChild(script);
    </script>
  </body>
</html>
